<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="index.css">
</head>
<!-- tab name-->
<title>How we roll</title>



<body>
<h1 class=‘’header’’> Welcome to our website! </h1>
<ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="How-we-roll.html">How we roll</a></li>
    <li><a href="raport.html">Project Progress</a></li>
    <li><a href="">Readme</a></li>
</ul>


<!-- SLIDER 1-->
<div class="slidecontainer">
    <p class="left">Discord:</p>
    <p class="right">School:</p>
    <input type="range" min="1" max="100" value="50">
</div>

















<!--Slider 2-->

<!--Header-->
<div class="header"><span class="header-text"></span></div>
<div class="topnav">
</div>
<div class="main-content">
    <form id="HWR-form">
        <!--Overskrift på profilsiden-->
        <h2>Your information and your preferences to give your group insight into you and your habits</h2>
        <div id='localstorage-tekst'></div>
        <div class="form-div">
            <table class="form-table">
                <tr>
                    <td class="text-align-right">
                        <label for="fname">Fornavn:</label>
                    </td>
                    <td class="text-align-left"><input type="text" name="fname" id="fname" class='form-textinput' placeholder="Fornavn">
                    <td class="text-align-right">
                        <label for="lname">Etternavn:</label>
                    </td>
                    <td class="text-align-left"><input type="text" name="lname" id="lname" class='form-textinput' placeholder="Etternavn"></td>
                </tr>
            </table>
            <!--Slidere-->

            <br><br><br><br>

            <h4><label for="hours">Når jobber du best?</label></h4>
            <table class="slidercontainer">
                <tr>
                    <td colspan="3"><input type="range" name="hours" id="hours" min="0" max="100" value="50" class="slider"></td>
                </tr>
                <tr>
                    <td class="text-align-left"> Morgenfugl</td>
                    <td class="text-align-center">Nøytral</td>
                    <td class="text-align-right">Natteravn</td>
                </tr>
            </table>
            <h4><label for="akt">Hvor aktiv er du?</label></h4>
            <table class="slidercontainer">
                <tr>
                    <td colspan="3"><input type="range" name="akt" id="akt" min="0" max="100" value="50" class="slider"></td>
                </tr>
                <tr>
                    <td class="text-align-left">Sofagris</td>
                    <td class="text-align-center">Moderat</td>
                    <td class="text-align-right">Atletisk</td>
                </tr>
            </table>
            <h4><label for="work">Hvordan foretrekker du å jobbe?</label></h4>
            <table class="slidercontainer">
                <tr>
                    <td colspan="3"><input type="range" name="work" id="work" min="0" max="100" value="50" class="slider"></td>
                </tr>
                <tr>
                    <td class="text-align-left">Selvstendig</td>
                    <td class="text-align-center">Nøytral</td>
                    <td class="text-align-right">Samarbeid</td>
                </tr>
            </table>
            <h4><label for="dify">Foretrekker du hjemmekontor eller fysisk oppmøte?</label></h4>
            <table class="slidercontainer">
                <tr>
                    <td colspan="3"><input type="range" name="dify" id="dify" min="0" max="100" value="50" class="slider"></td>
                </tr>
                <tr>
                    <td class="text-align-left">Hjemmekontor</td>
                    <td class="text-align-center">Nøytral</td>
                    <td class="text-align-right">Fysisk</td>
                </tr>
            </table>
            <h4><label for="bgrp">Foretrekker du å fortelle bakgrunnshistorie eller gå rett på sak?</label></h4>
            <table class="slidercontainer">
                <tr>
                    <td colspan="3"><input type="range" name="bgrp" id="bgrp" min="0" max="100" value="50" class="slider"></td>
                </tr>
                <tr>
                    <td class="text-align-left">Bakgrunnshistorie</td>
                    <td class="text-align-center">Nøytral</td>
                    <td class="text-align-right">Rett på sak</td>
                </tr>
            </table>
            <br>
            <br>
            <div class="btncontainer">
                <button class="btn submit" type="submit">Submit</button>
            </div>
        </div>
    </form>
    <!--Resultat på undersøkelse-->
    <br><br>
    <div class='results'>
       Results:<br>
        <pre></pre>
    </div>
</div>
<!--Javascript for dokumentet-->
<script>

            // From https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch (seen 2021-09-27)
            // Example POST method implementation using fetch:
            async function postData(url = '', data = {}) {
                // Default options are marked with *
                const response = await fetch(url, {
                    method: 'POST', // *GET, POST, PUT, DELETE, etc.
                    mode: 'cors', // no-cors, *cors, same-origin
                    cache: 'no-cache', // *default, no-cache, reload, force-cache,only-if-cached
                    credentials: 'same-origin', // include, *same-origin, omit
                    headers: {
                        'Content-Type': 'application/json',
                        // 'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    redirect: 'follow', // manual, *follow, error
                    referrerPolicy: 'no-referrer', // no-referrer,*no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
                    body: JSON.stringify(data) // body data type must match"Content-Type"header
                });
                return response.json(); // parses JSON response into native JavaScriptobjects
            }
             function handleSubmit(event) {
                event.preventDefault();
                const data = new FormData(event.target);
                const formJSON = Object.fromEntries(data.entries());
                const results = document.querySelector('.results pre');
                postData('https://bacit.info/', formJSON)
                    .then(data => {
                        let trxid = JSON.stringify(data.trxid, null, 2).replace(/"/g, "");
                        let time = JSON.stringify(data.time, null, 2).replace(/"/g, "");
                        localStorage.setItem("trxid", trxid);
                        localStorage.setItem("time", time);
                        results.innerText = JSON.stringify(data, null, 2);
                        document.getElementById("HWR-form").reset();
                        ScrollDown();
                        return false;
                    });
            }
            const form = document.querySelector('form');
            form.addEventListener('submit', handleSubmit);
            // just an alert message for when users try to use the search bar
            function OnlyAPlaceHolder() {
                alert("this item doesn't have much functionality yet and is only a placeholder")
            }

            function ScrollDown() {
                window.scrollTo(0, document.body.scrollHeight);
            }
        </script>





</body>
</html>
